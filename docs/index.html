<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>What the Package Does (One Line, Title Case) • automatedRecLin</title>
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="katex-auto.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (One Line, Title Case)">
<meta name="description" content="What the package does (one paragraph).">
<meta property="og:description" content="What the package does (one paragraph).">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">automatedRecLin</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="the-automatedreclin-package">The <code>automatedRecLin</code> Package<a class="anchor" aria-label="anchor" href="#the-automatedreclin-package"></a>
</h1></div>
<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>This R package is designed to perform record linkage (also known as entity resolution) in unsupervised or supervised settings. It compares pairs of records from two datasets using selected comparison functions to estimate the probability or density ratio between matched and non-matched records. Based on these estimates, it predicts a set of matches that maximizes entropy.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the development version from GitHub you can use the <code>pak</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak") # uncomment if needed</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"ncn-foreigners/automatedRecLin"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>Load the package for the examples.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">automatedRecLin</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="unsupervised-maximum-entropy-classifier-for-record-linkage">Unsupervised maximum entropy classifier for record linkage<a class="anchor" aria-label="anchor" href="#unsupervised-maximum-entropy-classifier-for-record-linkage"></a>
</h3>
<p>Generate two simple datasets that contain some common records, with typos in some cases.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Emma"</span>, <span class="st">"Liam"</span>, <span class="st">"Olivia"</span>, <span class="st">"Noah"</span>, <span class="st">"Ava"</span>,</span>
<span>           <span class="st">"Ethan"</span>, <span class="st">"Sophia"</span>, <span class="st">"Mason"</span>, <span class="st">"Isabella"</span>, <span class="st">"James"</span><span class="op">)</span>,</span>
<span>  surname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Smith"</span>, <span class="st">"Johnson"</span>, <span class="st">"Williams"</span>, <span class="st">"Brown"</span>, <span class="st">"Jones"</span>,</span>
<span>              <span class="st">"Garcia"</span>, <span class="st">"Miller"</span>, <span class="st">"Davis"</span>, <span class="st">"Rodriguez"</span>, <span class="st">"Wilson"</span><span class="op">)</span>,</span>
<span>  city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"New York"</span>, <span class="st">"Los Angeles"</span>, <span class="st">"Chicago"</span>, <span class="st">"Houston"</span>, <span class="st">"Phoenix"</span>,</span>
<span>           <span class="st">"Philadelphia"</span>, <span class="st">"San Antonio"</span>, <span class="st">"San Diego"</span>, <span class="st">"Dallas"</span>, <span class="st">"San Jose"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Emma"</span>, <span class="st">"Liam"</span>, <span class="st">"Olivia"</span>, <span class="st">"Noah"</span>,</span>
<span>    <span class="st">"Ava"</span>, <span class="st">"Ehtan"</span>, <span class="st">"Sopia"</span>, <span class="st">"Mson"</span>,</span>
<span>    <span class="st">"Charlotte"</span>, <span class="st">"Benjamin"</span>, <span class="st">"Amelia"</span>, <span class="st">"Lucas"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  surname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Smith"</span>, <span class="st">"Johnson"</span>, <span class="st">"Williams"</span>, <span class="st">"Brown"</span>,</span>
<span>    <span class="st">"Jnes"</span>, <span class="st">"Garca"</span>, <span class="st">"Miler"</span>, <span class="st">"Dvis"</span>,</span>
<span>    <span class="st">"Martinez"</span>, <span class="st">"Lee"</span>, <span class="st">"Hernandez"</span>, <span class="st">"Clark"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"New York"</span>, <span class="st">"Los Angeles"</span>, <span class="st">"Chicago"</span>, <span class="st">"Houston"</span>,</span>
<span>    <span class="st">"Phonix"</span>, <span class="st">"Philadelpia"</span>, <span class="st">"San Antnio"</span>, <span class="st">"San Dieg"</span>,</span>
<span>    <span class="st">"Seattle"</span>, <span class="st">"Miami"</span>, <span class="st">"Boston"</span>, <span class="st">"Denver"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_1</span></span>
<span><span class="co">#&gt;        name   surname         city</span></span>
<span><span class="co">#&gt; 1      Emma     Smith     New York</span></span>
<span><span class="co">#&gt; 2      Liam   Johnson  Los Angeles</span></span>
<span><span class="co">#&gt; 3    Olivia  Williams      Chicago</span></span>
<span><span class="co">#&gt; 4      Noah     Brown      Houston</span></span>
<span><span class="co">#&gt; 5       Ava     Jones      Phoenix</span></span>
<span><span class="co">#&gt; 6     Ethan    Garcia Philadelphia</span></span>
<span><span class="co">#&gt; 7    Sophia    Miller  San Antonio</span></span>
<span><span class="co">#&gt; 8     Mason     Davis    San Diego</span></span>
<span><span class="co">#&gt; 9  Isabella Rodriguez       Dallas</span></span>
<span><span class="co">#&gt; 10    James    Wilson     San Jose</span></span>
<span><span class="va">df_2</span></span>
<span><span class="co">#&gt;         name   surname        city</span></span>
<span><span class="co">#&gt; 1       Emma     Smith    New York</span></span>
<span><span class="co">#&gt; 2       Liam   Johnson Los Angeles</span></span>
<span><span class="co">#&gt; 3     Olivia  Williams     Chicago</span></span>
<span><span class="co">#&gt; 4       Noah     Brown     Houston</span></span>
<span><span class="co">#&gt; 5        Ava      Jnes      Phonix</span></span>
<span><span class="co">#&gt; 6      Ehtan     Garca Philadelpia</span></span>
<span><span class="co">#&gt; 7      Sopia     Miler  San Antnio</span></span>
<span><span class="co">#&gt; 8       Mson      Dvis    San Dieg</span></span>
<span><span class="co">#&gt; 9  Charlotte  Martinez     Seattle</span></span>
<span><span class="co">#&gt; 10  Benjamin       Lee       Miami</span></span>
<span><span class="co">#&gt; 11    Amelia Hernandez      Boston</span></span>
<span><span class="co">#&gt; 12     Lucas     Clark      Denver</span></span></code></pre></div>
<p>Specify key variables used for record linkage. Select a comparison function (i.e. a function to compare pairs of records) for each variable. For example, use the <code>jarowinkler_complement</code> function from the <code>automatedRecLin</code> package (1 - Jaro-Winkler distance). Choose a method for estimating the probability or density ratio for each variable. The available methods are: <code>"binary"</code>, <code>"continuous_parametric"</code> and <code>"continuous_nonparametric"</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"surname"</span>, <span class="st">"city"</span><span class="op">)</span></span>
<span><span class="va">comparators</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"name"</span> <span class="op">=</span> <span class="fu"><a href="reference/jarowinkler_complement.html">jarowinkler_complement</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"surname"</span> <span class="op">=</span> <span class="fu"><a href="reference/jarowinkler_complement.html">jarowinkler_complement</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"city"</span> <span class="op">=</span> <span class="fu"><a href="reference/jarowinkler_complement.html">jarowinkler_complement</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">methods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"name"</span> <span class="op">=</span> <span class="st">"continuous_parametric"</span>,</span>
<span>  <span class="st">"surname"</span> <span class="op">=</span> <span class="st">"continuous_parametric"</span>,</span>
<span>  <span class="st">"city"</span> <span class="op">=</span> <span class="st">"continuous_parametric"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Perform record linkage using the <code>mec</code> function. The output contains the following information:</p>
<ul>
<li>the names of key variables,</li>
<li>the number of predicted matches,</li>
<li>the first 6 predicted matches (with their estimated probability or density ratio),</li>
<li>the method for constructing the predicted set of matches (default: <code>"size"</code>),</li>
<li>estimated false link rate (FLR),</li>
<li>estimated missing match rate (MMR),</li>
<li>estimated parameters for variables using the <code>"binary"</code> or <code>"continuous_parametric"</code> methods.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">unsup_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mec.html">mec</a></span><span class="op">(</span>A <span class="op">=</span> <span class="va">df_1</span>, B <span class="op">=</span> <span class="va">df_2</span>,</span>
<span>                    variables <span class="op">=</span> <span class="va">variables</span>,</span>
<span>                    comparators <span class="op">=</span> <span class="va">comparators</span>,</span>
<span>                    methods <span class="op">=</span> <span class="va">methods</span><span class="op">)</span></span>
<span><span class="va">unsup_result</span></span>
<span><span class="co">#&gt; Record linkage based on the following variables: name, surname, city.</span></span>
<span><span class="co">#&gt; ========================================================</span></span>
<span><span class="co">#&gt; The algorithm predicted 8 matches.</span></span>
<span><span class="co">#&gt; The first 6 predicted matches are:</span></span>
<span><span class="co">#&gt;        a     b ratio / 1000</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;num&gt;        &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:     6     6 1.433031e+08</span></span>
<span><span class="co">#&gt; 2:     8     8 3.198692e+07</span></span>
<span><span class="co">#&gt; 3:     7     7 9.673745e+05</span></span>
<span><span class="co">#&gt; 4:     5     5 2.813745e+04</span></span>
<span><span class="co">#&gt; 5:     1     1 3.375000e+00</span></span>
<span><span class="co">#&gt; 6:     2     2 3.375000e+00</span></span>
<span><span class="co">#&gt; ========================================================</span></span>
<span><span class="co">#&gt; The construction of the classification set was based on estimates of its size.</span></span>
<span><span class="co">#&gt; Estimated false link rate (FLR): 0.2066 %.</span></span>
<span><span class="co">#&gt; Estimated missing match rate (MMR): 0.0000 %.</span></span>
<span><span class="co">#&gt; ========================================================</span></span>
<span><span class="co">#&gt; Variables selected for the continuous parametric method: name, surname, city.</span></span>
<span><span class="co">#&gt; Estimated parameters for the continuous parametric method:</span></span>
<span><span class="co">#&gt;         variable p_0_M    alpha_M   beta_M      p_0_U  alpha_U    beta_U</span></span>
<span><span class="co">#&gt;           &lt;char&gt; &lt;num&gt;      &lt;num&gt;    &lt;num&gt;      &lt;num&gt;    &lt;num&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:    gamma_name 0.625 138.462279 2199.107 0.04166667 6.516736 11.173089</span></span>
<span><span class="co">#&gt; 2: gamma_surname 0.500 120.665706 1974.530 0.03333333 4.622775  7.167261</span></span>
<span><span class="co">#&gt; 3:    gamma_city 0.500   6.512723  135.163 0.03333333 5.233194  9.313035</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="supervised-maximimum-entropy-classifier-for-record-linkage">Supervised maximimum entropy classifier for record linkage<a class="anchor" aria-label="anchor" href="#supervised-maximimum-entropy-classifier-for-record-linkage"></a>
</h3>
<p>Generate two simple training datasets that contain some common records, with typos in some cases.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_1_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>        <span class="st">"name"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"John"</span>, <span class="st">"Emily"</span>, <span class="st">"Mark"</span>, <span class="st">"Anna"</span>, <span class="st">"David"</span><span class="op">)</span>,</span>
<span>        <span class="st">"surname"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Smith"</span>, <span class="st">"Johnson"</span>, <span class="st">"Taylor"</span>, <span class="st">"Williams"</span>, <span class="st">"Brown"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_2_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>        <span class="st">"name"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"John"</span>, <span class="st">"Emely"</span>, <span class="st">"Marc"</span>, <span class="st">"Michael"</span><span class="op">)</span>,</span>
<span>        <span class="st">"surname"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Smith"</span>, <span class="st">"Jonson"</span>, <span class="st">"Tailor"</span>, <span class="st">"Henderson"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_1_train</span></span>
<span><span class="co">#&gt;    name  surname</span></span>
<span><span class="co">#&gt; 1  John    Smith</span></span>
<span><span class="co">#&gt; 2 Emily  Johnson</span></span>
<span><span class="co">#&gt; 3  Mark   Taylor</span></span>
<span><span class="co">#&gt; 4  Anna Williams</span></span>
<span><span class="co">#&gt; 5 David    Brown</span></span>
<span><span class="va">df_2_train</span></span>
<span><span class="co">#&gt;      name   surname</span></span>
<span><span class="co">#&gt; 1    John     Smith</span></span>
<span><span class="co">#&gt; 2   Emely    Jonson</span></span>
<span><span class="co">#&gt; 3    Marc    Tailor</span></span>
<span><span class="co">#&gt; 4 Michael Henderson</span></span></code></pre></div>
<p>Specify the key variables, select comparison functions and choose methods for estimating the probability or density ratio. Additionally, provide a <code>data.frame</code> indicating known matches.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">variables_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"surname"</span><span class="op">)</span></span>
<span><span class="va">comparators_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"name"</span> <span class="op">=</span> <span class="fu"><a href="reference/jarowinkler_complement.html">jarowinkler_complement</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                          <span class="st">"surname"</span> <span class="op">=</span> <span class="fu"><a href="reference/jarowinkler_complement.html">jarowinkler_complement</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">methods_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"name"</span> <span class="op">=</span> <span class="st">"continuous_nonparametric"</span>,</span>
<span>                      <span class="st">"surname"</span> <span class="op">=</span> <span class="st">"continuous_nonparametric"</span><span class="op">)</span></span>
<span><span class="va">matches_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"a"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="st">"b"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>Train a record linkage model using the <code>train_rec_lin</code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/train_rec_lin.html">train_rec_lin</a></span><span class="op">(</span>A <span class="op">=</span> <span class="va">df_1_train</span>, B <span class="op">=</span> <span class="va">df_2_train</span>,</span>
<span>                       matches <span class="op">=</span> <span class="va">matches_train</span>,</span>
<span>                       variables <span class="op">=</span> <span class="va">variables_train</span>,</span>
<span>                       comparators <span class="op">=</span> <span class="va">comparators_train</span>,</span>
<span>                       methods <span class="op">=</span> <span class="va">methods_train</span><span class="op">)</span></span>
<span><span class="va">model</span></span>
<span><span class="co">#&gt; Record linkage model based on the following variables: name, surname.</span></span>
<span><span class="co">#&gt; The prior probability of matching is 0.15.</span></span>
<span><span class="co">#&gt; ========================================================</span></span>
<span><span class="co">#&gt; Variables selected for the continuous nonparametric method: name, surname.</span></span></code></pre></div>
<p>Generate two new datasets for record linkage prediction.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_1_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"name"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Jame"</span>, <span class="st">"Lia"</span>, <span class="st">"Tomas"</span>, <span class="st">"Matthew"</span>, <span class="st">"Andrew"</span><span class="op">)</span>,</span>
<span>  <span class="st">"surname"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wilsen"</span>, <span class="st">"Thomsson"</span>, <span class="st">"Davis"</span>, <span class="st">"Robinson"</span>, <span class="st">"Scott"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_2_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"name"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"James"</span>, <span class="st">"Leah"</span>, <span class="st">"Thomas"</span>, <span class="st">"Mathew"</span>, <span class="st">"Andrew"</span>, <span class="st">"Sophie"</span><span class="op">)</span>,</span>
<span>  <span class="st">"surname"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wilson"</span>, <span class="st">"Thompson"</span>, <span class="st">"Davies"</span>, <span class="st">"Robins"</span>, <span class="st">"Scots"</span>, <span class="st">"Clarks"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_1_new</span></span>
<span><span class="co">#&gt;      name  surname</span></span>
<span><span class="co">#&gt; 1    Jame   Wilsen</span></span>
<span><span class="co">#&gt; 2     Lia Thomsson</span></span>
<span><span class="co">#&gt; 3   Tomas    Davis</span></span>
<span><span class="co">#&gt; 4 Matthew Robinson</span></span>
<span><span class="co">#&gt; 5  Andrew    Scott</span></span>
<span><span class="va">df_2_new</span></span>
<span><span class="co">#&gt;     name  surname</span></span>
<span><span class="co">#&gt; 1  James   Wilson</span></span>
<span><span class="co">#&gt; 2   Leah Thompson</span></span>
<span><span class="co">#&gt; 3 Thomas   Davies</span></span>
<span><span class="co">#&gt; 4 Mathew   Robins</span></span>
<span><span class="co">#&gt; 5 Andrew    Scots</span></span>
<span><span class="co">#&gt; 6 Sophie   Clarks</span></span></code></pre></div>
<p>Predict matches using the <code>predict</code> function. The output has a similar structure to that of the <code>mec</code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">df_1_new</span>, <span class="va">df_2_new</span><span class="op">)</span></span>
<span><span class="co">#&gt; The algorithm predicted 5 matches.</span></span>
<span><span class="co">#&gt; The first 5 predicted matches are:</span></span>
<span><span class="co">#&gt;        a     b ratio / 1000</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;num&gt;        &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:     3     3    0.6466869</span></span>
<span><span class="co">#&gt; 2:     4     4    0.5865049</span></span>
<span><span class="co">#&gt; 3:     1     1    0.5696382</span></span>
<span><span class="co">#&gt; 4:     5     5    0.3103742</span></span>
<span><span class="co">#&gt; 5:     2     2    0.2935612</span></span>
<span><span class="co">#&gt; ========================================================</span></span>
<span><span class="co">#&gt; The construction of the classification set was based on estimates of its size.</span></span>
<span><span class="co">#&gt; Estimated false link rate (FLR): 1.1486 %.</span></span>
<span><span class="co">#&gt; Estimated missing match rate (MMR): 1.1486 %.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="funding">Funding<a class="anchor" aria-label="anchor" href="#funding"></a>
</h2>
<p>Work on this package is supported by the National Science Centre, OPUS 20 grant no. 2020/39/B/HS4/00941 (Towards census-like statistics for foreign-born populations – quality, data integration and estimation).</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Lee, D., Zhang, L.-C. and Kim, J. K. (2022). <a href="https://www150.statcan.gc.ca/n1/pub/12-001-x/2022001/article/00007-eng.htm" class="external-link">Maximum entropy classification for record linkage.</a> Survey Methodology, Statistics Canada, Catalogue No. 12-001-X, Vol. 48, No. 1.</p>
<p>Vo, T. H., Chauvet, G., Happe, A., Oger, E., Paquelet, S., and Garès, V. (2023). <a href="https://ideas.repec.org/a/eee/csdana/v179y2023ics0167947322002365.html" class="external-link">Extending the Fellegi-Sunter record linkage model for mixed-type data with application to the French national health data system.</a> Computational Statistics &amp; Data Analysis, 179, 107656.</p>
<p>Sugiyama, M., Suzuki, T., Nakajima, S. et al. <a href="https://doi.org/10.1007/s10463-008-0197-x" class="external-link">Direct importance estimation for covariate shift adaptation.</a> Ann Inst Stat Math 60, 699–746 (2008).</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing automatedRecLin</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>First Last <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
